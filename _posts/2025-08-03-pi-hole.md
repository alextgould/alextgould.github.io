---
layout: post
title: "Pi Hole: kicking out ads while kick-starting Pi projects"
date: 2025-08-03
description: "A blow-by-blow account of my first Raspberry Pi project, following the pi-hole guide."
img: pi-hole/conveyor-trim2.png
# fig-caption: "This is a test of the emergency broadcast system" # Appears in the top right over the top of the image
tags: [Project] # Personal, Opinion, Technical, Review, Project, Testing
main_page_summary: "My first Raspberry Pi project: a network-wide ad blocker"
---

## Executive Summary

In this post
* I share insights from my first project using a Raspberry Pi, blocking internet ads on my home network.
* I take a scientific approach, testing what sorts of ads Pi-hole works well on, and where it falls short. 

## Table of Contents

- [Introduction](#introduction)
- [Putting the Science into Data Science](#putting-the-science-into-data-science)
- [Putting the Hard into Hardware](#putting-the-hard-into-hardware)
- [Taking a Soft approach to Software setup](#taking-a-soft-approach-to-software-setup)
- [Results](#results)
- [Conclusion](#conclusion)

## Introduction

I've been wanting to do something with a Raspberry Pi for a while. It feels like all the cool kids are doing it[^1]. More specifically, a lot of the more interesting individuals I meet in the Data space turn out to have done Pi things, and I wanted to join the club.

I'm also an avid hater of the advertising that saturates our digital world.

![]({{site.baseurl}}/assets/img/pi-hole/adblocker.png){: .bordered-and-centered-image}
<small class="center-caption">Like I'm ever going to do that...</small>

As a parent, this is even worse; I can personally avoid, ignore or block ads, but my wife is still going to impulse buy things and my kids are still going to nag me for something plushie. It would also be great not to have to install and set up a separate ad blocker on every browser and every device on my home network.

Hence, for my first Raspberry Pi project, I decided to follow a [tutorial](https://www.raspberrypi.com/tutorials/running-pi-hole-on-a-raspberry-pi/) on the raspberrypi.com website, to set up a Raspberry Pi with the Pi-hole software to block ads on my home network.

## Putting the Science into Data Science

Given this blog is about my explorations as a Data Scientist, I figured I should take a more scientific approach to the exercise and set out my test data and hypothesis.[^2] Once the Pi-hole is working, we'll test it against the following scenarios:

Scenario  | Website URL or Platform | Description | Hypothesis
--- | --- | --- | ---
IGN | https://www.ign.com/wikis/immortals-fenyx-rising/Mount_Locations  | Gaming related wiki site. 5+ ads present before the first paragraph of text, including movies that auto play. | Given ad-blocker works, I expect Pi-hole will remove these ads.
Fandom | https://leagueoflegends.fandom.com/wiki/Bandle_Tale  | Another gaming related wiki site with a similar volume of obnocious ads, including movies that auto play. | Given ad-blocker works, I expect Pi-hole will remove these ads.
CNET  | https://www.cnet.com/tech/gaming/nintendo-switch-2-review/ | Gaming related review site, including autoplay videos, panels of ads and animated ads and javascript to keep ads always on your screen. | Given ad-blocker works, I expect Pi-hole will remove these ads.
Wall Street Journal (WSJ) | https://www.wsj.com/tech/ai/ai-white-collar-job-loss-b9856259 | Advertising, along with a paywall that prevents you from viewing the article without logging in. | I have historically had some success using Chrome's Incognito windows to bypass paywalls, but have confirmed it doesn't work in this case, and I'm expecting that Pi-hole will be ineffective. It will probably remove the javascript based "Advertisement" box. I wonder if people who pay for a subcription also have to experience the ads? Given you can't read the article without a subscription, I can't imagine the ads are there for anyone else.
SBS | https://www.sbs.com.au/ondemand/tv-program/big-fat-quiz-special/2417915971751 | I gather from talking to my wife that there are some great shows on SBS, however they regularly and randomly impose 5 or so ads on you. I gather it's similar to the 90s, where you would take a food or toilet break during the ad break, but with more randomness to when it occurs, and with the same ads being played each time, so you get that "on call waiting for one hour listening to the same elevator song" experience. | I'm guessing the ads are managed on the SBS side, particularly given the same ads are showing up over and over, so I don't anticipate Pi-hole will work, but it's definitely worth checking as it would be amazing if it did. 

I generally use the Chrome AdBlock extension on my computer, so when I went hunting for ad-filled websites, at first I thought there had been an internet revolution as everything seemed quite tranquil. Once I realised and disabled my AdBlock, I was presented with the typical internet experience - adds for hair loss, video ads that constantly distract me from the main content, and three ads that were overlapping - because there's clearly not enough ads on the page already.

Here's a couple of examples:

![]({{site.baseurl}}/assets/img/pi-hole/Fandom.png){: .bordered-and-centered-image}
<small>Fandom website</small>

![]({{site.baseurl}}/assets/img/pi-hole/CNET.png)
<small>CNet website. If you scroll to the end of the article, CNET automatically appends another unrelated ad-filled article.</small>

## Putting the Hard into Hardware

I spent some time deciding which Pi to buy, with my bestie-of-the-day ChatGPT providing me with moral and technical support. In the end I went with the Pi 5 Model B 8GB RAM, the Red/White case, the optional Active Cooler and a preloaded uSD card through [core electronics](https://core-electronics.com.au/) who seem like they have a really nice maker community vibe.

Once the new hardware arrived, it was time for step one: read the manual, right? Well no, because Raspberry Pi is as hip and minimalist as Apple and Samsung, so there is no manual. I don't think there was even a link to a website where I could find the manual. I'm just meant to be so cool that I know exactly what to do. Back in my day, before the internet, I would read every page of the manual, during the agonising hour or so it took to get home, as there was no device to distract you and the alternative was looking out the train window. I miss manuals.

![]({{site.baseurl}}/assets/img/pi-hole/manual.png){: .bordered-and-centered-image}
<small class="center-caption">The best manual ever made</small>

I quickly realised that the manuals were located online, on the sales-style pages, but within the documents section under the product brief; so the [case](https://www.raspberrypi.com/products/raspberry-pi-5-case/) product page has a link to the [case manual](https://datasheets.raspberrypi.com/case/case-for-raspberry-pi-5-product-brief.pdf) and the [active cooler](https://www.raspberrypi.com/products/active-cooler/) product page has a link to the [active cooler manual](https://datasheets.raspberrypi.com/cooling/raspberry-pi-active-cooler-product-brief.pdf). Easy right? Well I hope you didn't read the manuals and follow their instructions in that order, because the case manual will tell you to install this little heatsink on your Raspberry Pi on top of the CPU (incidentally, you won't find the CPU labelled on the diagram in the Pi 5 manual, but you can ask ChatGPT to help you identify all the components, including the memory and I/O and so forth):

![]({{site.baseurl}}/assets/img/pi-hole/heatsink.png)

Hopefully you habitually read every page of all the manuals before you start, and so you realised (or already knew because you're just that cool) that because the active cooler gets stuck on to the CPU and the integrated fan that comes with the case is essentially (and intentionally) useless, you shouldn't have installed the little heatsink.

You could also guess this as both fans have a power cable and there is only slot to put the fan cable into. Oh wait, there's zero slots to put the fan cable into, until you figure out (because it's not covered in the manual you weren't given) that you need to remove the world's tiniest plastic cap to find the slot underneath:

![]({{site.baseurl}}/assets/img/pi-hole/fan_cap.png)

There were a few more minor things to figure out - such as whether I need to run out and buy some M2.5 nylon screws that aren't included but match the mounting holes in the Pi and its case (spoiler: nice to have, very much deferrable purchase) - but essentially we have the hardware set up.

## Taking a Soft approach to Software setup

Because my Pi came with a preloaded uSD card, I was able to boot directly into a graphical user interface (GUI) where I could configure my user credentials and wi-fi details, and I didn't need to have my own uSD card reader. Purists may hate me for using the GUI in addition to SSH, but as a relative beginner, I enjoyed having the two machines side-by-side and being able to see the SSH commands on my Windows machine flow through to visible changes on the Linux machine next door, while knowing that this was based on network traffic and not physical proximity. Of course, the Pi was quickly moved to live next to the modem, and it quickly became second nature to talk to my Pi using the headless approach of typing ```ssh myusername@mypidevicename.local``` into the terminal.

At this point, I attempted to follow along with the [tutorial](https://www.raspberrypi.com/tutorials/running-pi-hole-on-a-raspberry-pi/), and to make things even easier, I continued to use ChatGPT as my co-pilot. In addition to giving me moral and technical support, this let me go beyond the assumed or embedded knowledge in the tutorial. For instance, when the tutorial simply instructs me to run the command: ```bash curl -sSL https://install.pi-hole.net | bash```, I can quickly ask and understand what the -sSL (silent mode but still show errors) and pipe (redirect script output to the terminal to run directly) are doing. I also potentially gain an understanding of best practices or alternative approaches I may want to use. For instance, running this sequence instead would let me inspect what will be run before running it, in case I'm curious or running something from a less reputable source:

```bash
curl -sSL https://install.pi-hole.net -o pi-hole-install.sh
nano pi-hole-install.sh
rm pi-hole-install.sh # keep home directory clean
```

Despite having a tutorial and co-pilot at my side, there were still a few interesting things for me to figure out given my current level of understanding of networking. To begin with, "Plan A" in the tutorial involves using Pi-hole as an alternate DNS.

The DNS (Domain Name System) is used to translate domain names (e.g. google.com.au) into IP addresses that are actually used to retrieve resources on the internet. The idea is that Pi-hole will redirect queries directed at known ad providers to the *very-important-trash-can* which is located at the invalid IP address 0.0.0.0 and which won't respond with anything interesting for you to buy. It turns out you can't easily set the DNS on Telstra modems (e.g. see [this post](https://www.techpowerup.com/forums/threads/guide-unlocking-and-modding-telstra-routers-technicolor-hardware.296503/) on unlocking and modding Telstra routers). This means we need to go to the "Plan B" section of the tutorial and look at DHCP.

DHCP (Dynamic Host Configuration Protocol) is used to allocate IP addresses to devices on a network. Within the Telstra modem admin settings you can ask it to stop providing DHCP to the network, and within the Pi-hole admin you can ask it to do so. When a device on the network asks for an IP address, rather than the Telstra modem answering, the Pi will do so instead. Having taken on this role, it can also act as the DNS. Interestingly, you don't have to tell the modem that the Pi will be acting in this role, you just need to ensure the modem isn't also trying to do so.

I decided it would be a good idea for my Pi to have a fixed IP address on my network, if for no other reason than so I could bookmark the Pi-hole admin URL, which is something like 192.168.0.200/admin/login. If the IP address changes from 192.168.0.200 to 192.168.0.80, the link will need to be updated. Within the modem's network settings is a DHCP Reservations feature. I reduced my DHCP range to 192.168.0.2 to 192.168.0.199, as 192.168.0.1 is used by the modem and I won't have more than 200 devices connected to my home network. The IP range 192.168.0.200 to 192.168.0.255 is then reserved for static IP reservations. I gather this isn't really necessary as the modem firmware should handle this automatically, but this approach feels cleaner and removes any risk with imperfect firmware. Having done this, I was able to allocate a fixed lease to the Pi based on its MAC address, which can be found using ```ip link show``` or ```ipconfig``` on the Pi.

I swapped from the wifi connection approach used in the tutorial to a ethernet cable connection. This is recommended, both for a slight reduction in latency, and for improved stability in the connection. Given that my little Pi will now be acting as a critical middleman in all my internet traffic, it seemed worth investing $10 and waiting a day for my UGreen Cat 6 Ethernet Cable, 1000Mbps Gigabit High Speed Braided Shielded Network Cord 1M, to arrive from Amazon, and updating the settings. I had to adjust the MAC address used to allocate the fixed IP to my Pi, as my understanding of MAC addresses was only approximately correct - while MAC addresses are generally unique to the hardware, the Pi actually has two MAC addresses, one for its Ethernet (eth0) and another for its Wi-Fi (wlan0).

As a final note, once the setup was complete, I didn't immediately see any results in the Pi-hole admin console. This is because we need to force devices to renew their DHCP licences before Pi-hole will be able to block queries. The easiest way to do this is to reboot the device.

Perhaps my approach to setting up the software wasn't quite as soft as I thought it would be, but in any event, we now have a Pi-hole as a critical piece of our networking infrastructure, and it's time to see if it works.

## Results

The following table shows the outcome of my Pi-hole experiment:

Scenario  | Hypothesis | Result
--- | --- | ---
IGN | Pi-hole will remove ads | ❌
Fandom | Pi-hole will remove ads | ❌
CNET | Pi-hole will remove ads | ❌
WSJ | Pi-hole will remove the javascript based "Advertisement" box but not the paywall | ❌
SBS | Pi-hole won't work | ❌

Well that was disappointing. While a few ads may have been removed, by and large, it initially appeared as though the Pi-hole software was doing nothing. Looking at the admin console, however, around 60% of queries were being blocked.

What's happening here? Well, Pi-hole only sees domain names. It doesn't inspect the actual content of the web page once it's downloaded. As a result, it can't block "same-domain" ads, and unfortunately, many major sites serve ads from the same domain as their regular content, and include "sponsored content" and "recommended articles" that are essentially just ads.

So was this all a waste of time? I don't think so:

1. Using a layered approach with *both* Pi-Hole and browser-based ad blockers prevents a bunch of ads and trackers from all devices on the network - particularly those being used by my kids - while still removing all the "same-domain" ads and cosmetic clutter that were being removed on my computer previously.

2. We got some first-hand experience using a Raspberry Pi and learned some interesting networking concepts.

3. I now have a Raspberry Pi acting as a server on my home network. This sets the scene for some future projects, such as revisiting the [happy plants]({{site.baseurl}}/happy-plants/index.html) project (which is currently running as a scheduled process on my computer), or creating my own APIs for python scripts (so I don't have to remember where I left the code or what virtual environment I was using at the time).

It's also fairly easy for me to swap back to using my modem as the DHCP provider - for example, if my Pi fails at some point. All that is needed is to toggle the DHCP settings back on in the modem (and off in the Pi, unless it's no longer active on the network).

## Conclusion

I'm happy to have my Raspberry Pi set up and with at least one active role. Before this project, I mentally thought of a server as being a big chunky thing, housed in a rack, using lots of energy and being generally obnoxious. Now I have my own server and it's cute and lives out of the way next to my modem.

![]({{site.baseurl}}/assets/img/pi-hole/supercute.png)

With this, I can start thinking about projects that involve using my own server, and while I don't have the 99.999999999% redundancy of a basic Azure solution, I also don't have to worry about ongoing costs.

That's all for now. I hope you've enjoyed tagging along, and stay tuned for more exciting Pi projects in the future.

---
<small>Footnotes:</small>

[^1]: It's funny to think how the "cool kids" of today would probably have been beaten up in the 80s for being geeks. This was back when only geeks played video games. These days, over 80% of Australians play video games (see [IGEA Australia Plays 2023](https://igea.net/wp-content/uploads/2023/08/IGEA_AP2023_FINAL_REPORT.pdf)).

[^2]: I sometimes feel that "Data Science" is less about "science" than about "data related work". It also feels as though "data related work" covers most people's jobs in this day and age, now that computers and data are becoming so ubiquitous.